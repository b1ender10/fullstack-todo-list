# üéØ –ó–∞–¥–∞–Ω–∏—è –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è Backend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ó–∞–¥–∞–Ω–∏—è —Ä–∞–∑–±–∏—Ç—ã –ø–æ —É—Ä–æ–≤–Ω—è–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –í—ã–ø–æ–ª–Ω—è–π –∏—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –∫–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ —É—á–∏—Ç –Ω–æ–≤—ã–º –∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º.

---

## üìö –£—Ä–æ–≤–µ–Ω—å 1: –û—Å–Ω–æ–≤—ã (–ù–∞—á–Ω–∏ –æ—Ç—Å—é–¥–∞)

+++### –ó–∞–¥–∞–Ω–∏–µ 1.1: –î–æ–±–∞–≤—å –ø–æ–ª–µ `priority` (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–¥–∞—á–∏)
**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è –∏–∑–º–µ–Ω—è—Ç—å —Å—Ö–µ–º—É –ë–î –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –î–æ–±–∞–≤—å –ø–æ–ª–µ `priority` –≤ —Ç–∞–±–ª–∏—Ü—É `todos` (INTEGER, –∑–Ω–∞—á–µ–Ω–∏—è: 1-–Ω–∏–∑–∫–∏–π, 2-—Å—Ä–µ–¥–Ω–∏–π, 3-–≤—ã—Å–æ–∫–∏–π)
- –û–±–Ω–æ–≤–∏ –º–æ–¥–µ–ª—å `Todo` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
- –î–æ–±–∞–≤—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ middleware (1-3)
- –û–±–Ω–æ–≤–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ (–º–æ–∂–Ω–æ —Ü–≤–µ—Ç–æ–º –∏–ª–∏ –∏–∫–æ–Ω–∫–æ–π)

**–ü–æ–¥—Å–∫–∞–∑–∫–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–π `ALTER TABLE` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–æ–Ω–∫–∏
- –ò–ª–∏ —É–¥–∞–ª–∏ `todos.db` –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π —Ç–∞–±–ª–∏—Ü—É —Å –Ω–æ–≤—ã–º –ø–æ–ª–µ–º
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = 2 (—Å—Ä–µ–¥–Ω–∏–π)

---

+++### –ó–∞–¥–∞–Ω–∏–µ 1.2: –î–æ–±–∞–≤—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∑–∞–¥–∞—á
**–¶–µ–ª—å:** –ò–∑—É—á–∏—Ç—å query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –î–æ–±–∞–≤—å endpoint `GET /api/todos?completed=true&priority=3`
- –†–µ–∞–ª–∏–∑—É–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ:
  - `completed` (true/false)
  - `priority` (1, 2, 3)
- –û–±–Ω–æ–≤–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥: –¥–æ–±–∞–≤—å –∫–Ω–æ–ø–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

**–ü–æ–¥—Å–∫–∞–∑–∫–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–π `req.query` –≤ Express
- –í SQL –∏—Å–ø–æ–ª—å–∑—É–π `WHERE` —Å —É—Å–ª–æ–≤–∏—è–º–∏
- –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω, –Ω–µ –ø—Ä–∏–º–µ–Ω—è–π —Ñ–∏–ª—å—Ç—Ä

---

+++### –ó–∞–¥–∞–Ω–∏–µ 1.3: –î–æ–±–∞–≤—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é
**–¶–µ–ª—å:** –ü–æ–Ω—è—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –î–æ–±–∞–≤—å query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `page` –∏ `limit` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `?page=1&limit=10`)
- –í–µ—Ä–Ω–∏ –≤ –æ—Ç–≤–µ—Ç–µ:
  ```json
  {
    "success": true,
    "data": [...],
    "pagination": {
      "page": 1,
      "limit": 10,
      "total": 25,
      "totalPages": 3
    }
  }
  ```
- –ò—Å–ø–æ–ª—å–∑—É–π `LIMIT` –∏ `OFFSET` –≤ SQL

**–ü–æ–¥—Å–∫–∞–∑–∫–∏:**
- `OFFSET = (page - 1) * limit`
- –î–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–π `SELECT COUNT(*)`

---

## üîß –£—Ä–æ–≤–µ–Ω—å 2: –£–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

+++### –ó–∞–¥–∞–Ω–∏–µ 2.1: –í—ã–Ω–µ—Å–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
**–¶–µ–ª—å:** –£—á–∏—Ç—å—Å—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –∫–æ–¥

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞–π `config/constants.js`
- –í—ã–Ω–µ—Å–∏ —Ç—É–¥–∞:
  - –ü–æ—Ä—Ç—ã, URL
  - –ö–æ–¥—ã –æ—à–∏–±–æ–∫
  - –°–æ–æ–±—â–µ–Ω–∏—è
  - –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (default priority, pagination limit –∏ —Ç.–¥.)

---

+++### –ó–∞–¥–∞–Ω–∏–µ 2.2: –°–æ–∑–¥–∞–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π (Service Layer)
**–¶–µ–ª—å:** –ü–æ–Ω—è—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞–π –ø–∞–ø–∫—É `services/`
- –°–æ–∑–¥–∞–π `services/todoService.js`
- –ü–µ—Ä–µ–Ω–µ—Å–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –≤ —Å–µ—Ä–≤–∏—Å
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–æ–ª–∂–µ–Ω —Ç–æ–ª—å–∫–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å HTTP, —Å–µ—Ä–≤–∏—Å - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
Controller ‚Üí Service ‚Üí Model ‚Üí Database
```

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// services/todoService.js
export class TodoService {
  static async createTodo(data) {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª
    // –í—ã–∑–æ–≤ –º–æ–¥–µ–ª–∏
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
  }
}
```

---

+++### –ó–∞–¥–∞–Ω–∏–µ 2.3: –î–æ–±–∞–≤—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Logging)
**–¶–µ–ª—å:** –£—á–∏—Ç—å—Å—è –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –£—Å—Ç–∞–Ω–æ–≤–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `winston` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `console`
- –õ–æ–≥–∏—Ä—É–π:
  - –í—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã (–º–µ—Ç–æ–¥, URL, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
  - –û—à–∏–±–∫–∏ —Å –ø–æ–ª–Ω—ã–º —Å—Ç–µ–∫–æ–º
  - –í–∞–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á)
- –°–æ–∑–¥–∞–π —Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤ (info, error, warn)

**–ü–æ–¥—Å–∫–∞–∑–∫–∏:**
- –°–æ–∑–¥–∞–π middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π `console.time()` –∏ `console.timeEnd()` –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏

---

## üõ°Ô∏è –£—Ä–æ–≤–µ–Ω—å 3: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

+++### –ó–∞–¥–∞–Ω–∏–µ 3.1: –£–ª—É—á—à–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é
**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è –∑–∞—â–∏—â–∞—Ç—å API –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –î–æ–±–∞–≤—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä—è–π —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (title - —Å—Ç—Ä–æ–∫–∞, priority - —á–∏—Å–ª–æ)
- –ó–∞—â–∏—Ç–∏—Å—å –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π (—É–∂–µ –∑–∞—â–∏—â–µ–Ω—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –Ω–æ –ø—Ä–æ–≤–µ—Ä—å)
- –û–≥—Ä–∞–Ω–∏—á—å –¥–ª–∏–Ω—É –ø–æ–ª–µ–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

+++### –ó–∞–¥–∞–Ω–∏–µ 3.2: –î–æ–±–∞–≤—å rate limiting
**–¶–µ–ª—å:** –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è API

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –£—Å—Ç–∞–Ω–æ–≤–∏ `express-rate-limit`
- –û–≥—Ä–∞–Ω–∏—á—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 15 –º–∏–Ω—É—Ç —Å –æ–¥–Ω–æ–≥–æ IP
- –í–µ—Ä–Ω–∏ –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

---

+++### –ó–∞–¥–∞–Ω–∏–µ 3.3: –î–æ–±–∞–≤—å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
**–¶–µ–ª—å:** –ó–∞—â–∏—Ç–∞ –æ—Ç XSS –∏ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –£—Å—Ç–∞–Ω–æ–≤–∏ `express-validator` (—É–∂–µ –µ—Å—Ç—å) –∏–ª–∏ `dompurify`
- –û—á–∏—â–∞–π HTML —Ç–µ–≥–∏ –∏–∑ title –∏ description
- –≠–∫—Ä–∞–Ω–∏—Ä—É–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã

---

## üóÑÔ∏è –£—Ä–æ–≤–µ–Ω—å 4: –†–∞–±–æ—Ç–∞ —Å –ë–î

+++### –ó–∞–¥–∞–Ω–∏–µ 4.1: –î–æ–±–∞–≤—å –∏–Ω–¥–µ–∫—Å—ã
**–¶–µ–ª—å:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞–π –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π:
  - `completed`
  - `priority`
  - `created_at`
- –ò–∑—É—á–∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–Ω–¥–µ–∫—Å—ã –∏ –∫–æ–≥–¥–∞ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

**SQL:**
```sql
CREATE INDEX idx_completed ON todos(completed);
CREATE INDEX idx_priority ON todos(priority);
```

---

+++### —Å–¥–µ–ª–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ


+++### –ó–∞–¥–∞–Ω–∏–µ 4.2: –î–æ–±–∞–≤—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
**–¶–µ–ª—å:** –ü–æ–Ω—è—Ç—å ACID —Å–≤–æ–π—Å—Ç–≤–∞ –ë–î

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞–π –º–µ—Ç–æ–¥ "–º–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ" - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á –∑–∞ —Ä–∞–∑
- –ò—Å–ø–æ–ª—å–∑—É–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —á—Ç–æ–±—ã –ª–∏–±–æ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ, –ª–∏–±–æ –Ω–∏—á–µ–≥–æ
- Endpoint: `DELETE /api/todos/batch` —Å body `{ "ids": [1, 2, 3] }`

**–ü–æ–¥—Å–∫–∞–∑–∫–∏:**
- SQLite —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: `BEGIN TRANSACTION`, `COMMIT`, `ROLLBACK`
- –ï—Å–ª–∏ –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —É–ø–∞–ª–∞, –æ—Ç–∫–∞—Ç–∏ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

+++### –ó–∞–¥–∞–Ω–∏–µ 4.3: –î–æ–±–∞–≤—å soft delete
**–¶–µ–ª—å:** –£—á–∏—Ç—å—Å—è –Ω–µ —É–¥–∞–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –í–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –ë–î, –ø–æ–º–µ—á–∞–π –∑–∞–¥–∞—á–∏ –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—ã–µ
- –î–æ–±–∞–≤—å –ø–æ–ª–µ `deleted_at` (DATETIME, NULL –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ü—Ä–∏ –≤—ã–±–æ—Ä–∫–µ –∏—Å–∫–ª—é—á–∞–π —É–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –°–æ–∑–¥–∞–π endpoint –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: `POST /api/todos/:id/restore`

---

## üîå –£—Ä–æ–≤–µ–Ω—å 5: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

+++### –ó–∞–¥–∞–Ω–∏–µ 5.1: –î–æ–±–∞–≤—å –ø–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞—á–∞–º
**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –≤ –ë–î

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- Endpoint: `GET /api/todos/search?q=–º–æ–ª–æ–∫–æ`
- –ò—â–∏ –ø–æ title –∏ description
- –ò—Å–ø–æ–ª—å–∑—É–π `LIKE` –≤ SQL (–∑–∞—â–∏—Ç–∏—Å—å –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π!)
- –í–µ—Ä–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

+++### –ó–∞–¥–∞–Ω–∏–µ 5.2: –î–æ–±–∞–≤—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
**–¶–µ–ª—å:** –ì–∏–±–∫–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- Query –ø–∞—Ä–∞–º–µ—Ç—Ä `sortBy` –∏ `sortOrder`
- –ü—Ä–∏–º–µ—Ä: `?sortBy=created_at&sortOrder=desc`
- –ü–æ–¥–¥–µ—Ä–∂–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ: title, created_at, priority, completed
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: created_at DESC

---

### –ó–∞–¥–∞–Ω–∏–µ 5.3: –î–æ–±–∞–≤—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/—Ç–µ–≥–∏
**–¶–µ–ª—å:** –†–∞–±–æ—Ç–∞ —Å–æ —Å–≤—è–∑—è–º–∏ –≤ –ë–î

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞–π —Ç–∞–±–ª–∏—Ü—É `categories` (id, name, color)
- –°–æ–∑–¥–∞–π —Å–≤—è–∑—å many-to-many –º–µ–∂–¥—É todos –∏ categories
- Endpoints:
  -+ `GET /api/categories` - –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  -+ `POST /api/todos/:id/categories` - –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∫ –∑–∞–¥–∞—á–µ
  -+ `DELETE /api/todos/:id/categories/:categoryId` - —É–¥–∞–ª–∏—Ç—å
  -+ —Å–¥–µ–ª–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –≤ –æ–±—â–µ–º —Å–ø–∏—Å–∫–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
  -+ –≤—ã–≤–æ–¥–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ –≤—ã–¥–∞—á–µ –≤—Å–µ—Ö –∑–∞–¥–∞—á –∏ –≤ –∑–∞–¥–∞—á–µ –ø–æ –∞–π–¥–∏
  -+ —É–¥–∞–ª–µ–Ω–∏–µ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  -+ –æ—Ç–ª–∞–¥–∏—Ç—å

**–ü–æ–¥—Å–∫–∞–∑–∫–∏:**
- –°–æ–∑–¥–∞–π –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É `todo_categories`
- –ò–∑—É—á–∏ JOIN –≤ SQL

---

## üß™ –£—Ä–æ–≤–µ–Ω—å 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–¥–∞–Ω–∏–µ 6.1: –ù–∞–ø–∏—à–∏ unit —Ç–µ—Å—Ç—ã
**–¶–µ–ª—å:** –ü–æ–Ω—è—Ç—å –≤–∞–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –£—Å—Ç–∞–Ω–æ–≤–∏ `jest` –∏–ª–∏ `mocha`
- –ù–∞–ø–∏—à–∏ —Ç–µ—Å—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–∏ `Todo`:
  - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ ID
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  - –£–¥–∞–ª–µ–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–π —Ç–µ—Å—Ç–æ–≤—É—é –ë–î (in-memory SQLite)

---

### –ó–∞–¥–∞–Ω–∏–µ 6.2: –ù–∞–ø–∏—à–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
**–¶–µ–ª—å:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API endpoints

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –£—Å—Ç–∞–Ω–æ–≤–∏ `supertest`
- –ù–∞–ø–∏—à–∏ —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö endpoints:
  - –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã
  - –ü—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞
  - –ü—Ä–æ–≤–µ—Ä—å –≤–∞–ª–∏–¥–∞—Ü–∏—é

---

## üöÄ –£—Ä–æ–≤–µ–Ω—å 7: Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

### –ó–∞–¥–∞–Ω–∏–µ 7.1: –î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
**–¶–µ–ª—å:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –£—Å—Ç–∞–Ω–æ–≤–∏ `dotenv`
- –í—ã–Ω–µ—Å–∏ –≤ `.env`:
  - PORT
  - DB_PATH
  - NODE_ENV
- –î–æ–±–∞–≤—å `.env.example` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- –û–±–Ω–æ–≤–∏ `.gitignore`

---

### –ó–∞–¥–∞–Ω–∏–µ 7.2: –î–æ–±–∞–≤—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
**–¶–µ–ª—å:** –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞–π –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫:
  - `NotFoundError`
  - `ValidationError`
  - `DatabaseError`
- –ò—Å–ø–æ–ª—å–∑—É–π –∏—Ö –≤ –∫–æ–¥–µ
- –í–µ—Ä–Ω–∏ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É

---

### –ó–∞–¥–∞–Ω–∏–µ 7.3: –î–æ–±–∞–≤—å health check –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
**–¶–µ–ª—å:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
- –†–∞—Å—à–∏—Ä—å `/health` endpoint:
  - –ü—Ä–æ–≤–µ—Ä—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
  - –í–µ—Ä–Ω–∏ –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - –í–µ—Ä–Ω–∏ uptime
- –î–æ–±–∞–≤—å `/metrics` endpoint (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üéì –ë–æ–Ω—É—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

### –ë–æ–Ω—É—Å 1: –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
–°–æ–∑–¥–∞–π —Å–∏—Å—Ç–µ–º—É –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —Å—Ö–µ–º—ã –ë–î:
- –ü–∞–ø–∫–∞ `migrations/`
- –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã

### –ë–æ–Ω—É—Å 2: API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–°–æ–∑–¥–∞–π Swagger/OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
- –£—Å—Ç–∞–Ω–æ–≤–∏ `swagger-jsdoc` –∏ `swagger-ui-express`
- –û–ø–∏—à–∏ –≤—Å–µ endpoints
- –î–æ–±–∞–≤—å –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

### –ë–æ–Ω—É—Å 3: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–æ–±–∞–≤—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
- –ò—Å–ø–æ–ª—å–∑—É–π `node-cache` –∏–ª–∏ Redis
- –ö—ç—à–∏—Ä—É–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á –Ω–∞ 1 –º–∏–Ω—É—Ç—É
- –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–π –∫—ç—à –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–¥–∞–Ω–∏—è–º–∏

1. **–ù–∞—á–Ω–∏ —Å –£—Ä–æ–≤–Ω—è 1** - –≤—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
2. **–ö–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
3. **–ß–∏—Ç–∞–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** - –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
4. **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π** - –ø—Ä–æ–±—É–π —Ä–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã
5. **–ó–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å—ã** - –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ

## üéØ –¶–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏–π —Ç—ã –Ω–∞—É—á–∏—à—å—Å—è:
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (SQL, –º–∏–≥—Ä–∞—Ü–∏–∏, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- ‚úÖ –°—Ç—Ä–æ–∏—Ç—å REST API
- ‚úÖ –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
- ‚úÖ –ì–æ—Ç–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫ production
- ‚úÖ –û—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –∫–æ–¥ (–ø–∞—Ç—Ç–µ—Ä–Ω—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

**–£–¥–∞—á–∏! üöÄ**

